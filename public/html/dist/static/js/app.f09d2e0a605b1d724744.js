webpackJsonp([5],{"+NoH":function(e,t){},"+skl":function(e,t){},"/3so":function(e,t){},"323d":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r});var o={a:"对不起！您的权限不足请登录"},r={"menu-management":"菜单维护","system-configuration":"系统配置"}},"44/k":function(e,t){},"97Sy":function(e,t){},EWIa:function(e,t){},ULTG:function(e,t){},"d8/S":function(e,t){},i6yn:function(e,t,n){"use strict";t.a={httpUrl:"http://47.98.171.72:8081/",httpHost:"api"}},joTY:function(e,t){},k48U:function(e,t,n){var o=n("w7s2");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("054e9ff2",o,!0,{})},lrMw:function(e,t){},mrdj:function(e,t,n){"use strict";n.d(t,"b",function(){return r});var o=n("i6yn");t.a={MENU:{menu:o.a.httpUrl+o.a.httpHost+"/system/menu"},CONFIG:{menu:o.a.httpUrl+o.a.httpHost+"/user/config"},IUSER:{user:o.a.httpUrl+o.a.httpHost+"/system/user"},USER:{login:o.a.httpUrl+o.a.httpHost+"/user/login",logout:o.a.httpUrl+o.a.httpHost+"/user/logout",check:o.a.httpUrl+o.a.httpHost+"/user/check-login",todo:o.a.httpUrl+o.a.httpHost+"/user/doto-list",role:o.a.httpUrl+o.a.httpHost+"/user/set-role",ro:o.a.httpUrl+o.a.httpHost+"/user/choose-role",le:o.a.httpUrl+o.a.httpHost+"/user/user-role",edit:o.a.httpUrl+o.a.httpHost+"/user/edit-role"},ROLE:{default:o.a.httpUrl+o.a.httpHost+"/system/default-menu",role:o.a.httpUrl+o.a.httpHost+"/system/role"},DIST:{list:o.a.httpUrl+o.a.httpHost+"/dist/list"},LOG:{user:o.a.httpUrl+o.a.httpHost+"/log/user",operation:o.a.httpUrl+o.a.httpHost+"/log/operation"},RE:{menu:o.a.httpUrl+o.a.httpHost+"/re/menu",node:o.a.httpUrl+o.a.httpHost+"/re/node",default:o.a.httpUrl+o.a.httpHost+"/re/menu-default"}};var r=o.a.httpUrl+o.a.httpHost+"/upload/dist"},qONS:function(e,t){},w7s2:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"",""])},x35b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("+NoH");var o,r=n("w3jz"),s=n.n(r),u=(n("97Sy"),n("bCKv")),a=n.n(u),i=(n("qONS"),n("UQTY")),c=n.n(i),l=(n("lrMw"),n("7YS2")),f=n.n(l),d=(n("y+mr"),n("3JdW")),p=n.n(d),h=(n("44/k"),n("utzC")),m=n.n(h),g=n("7+uW"),R=n("c+8m"),I=n.n(R),N=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),S=this&&this.__decorate||function(e,t,n,o){var r,s=arguments.length,u=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(u=(s<3?r(u):s>3?r(t,n,u):r(t,n))||u);return s>3&&u&&Object.defineProperty(t,n,u),u},E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return N(t,e),t=S([I()({})],t)}(g.default),O={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var b=n("VU/8")(E,O,!1,function(e){n("k48U")},null,null).exports,y=n("/ocq"),U=function(e){return Promise.all([n.e(0),n.e(3)]).then(function(){return e(n("zL4P"))}.bind(null,n)).catch(n.oe)},x=function(e){return Promise.all([n.e(0),n.e(2)]).then(function(){return e(n("sS1m"))}.bind(null,n)).catch(n.oe)};g.default.use(y.a);var w,M,v,L=new y.a({routes:[{path:"/",name:"Main",component:function(e){return Promise.all([n.e(0),n.e(2)]).then(function(){return e(n("T+/8"))}.bind(null,n)).catch(n.oe)}},{path:"/index",name:"Main",component:function(e){return Promise.all([n.e(0),n.e(2)]).then(function(){return e(n("jw7m"))}.bind(null,n)).catch(n.oe)},redirect:"/index/ifream",children:[{path:"menu1",name:"Munu1",component:x},{path:"haha",name:"Munu1",component:x},{path:"demo",name:"Munu1",component:x},{path:"ifream",name:"Ifream",component:function(e){return Promise.all([n.e(0),n.e(2)]).then(function(){return e(n("AvKn"))}.bind(null,n)).catch(n.oe)}},{path:"system-configuration",name:"系统管理",component:function(e){return Promise.all([n.e(0),n.e(3)]).then(function(){return e(n("XUS1"))}.bind(null,n)).catch(n.oe)},redirect:"/index/system-configuration/menu-management",children:[{path:"menu-management",name:"菜单维护",component:function(e){return Promise.all([n.e(0),n.e(3)]).then(function(){return e(n("Wy0Z"))}.bind(null,n)).catch(n.oe)}},{path:"log-management",name:"日志管理",component:U},{path:"user-management",name:"用户管理",component:function(e){return Promise.all([n.e(0),n.e(3)]).then(function(){return e(n("sESN"))}.bind(null,n)).catch(n.oe)}},{path:"role-management",name:"角色管理",component:function(e){return Promise.all([n.e(0),n.e(3)]).then(function(){return e(n("NII8"))}.bind(null,n)).catch(n.oe)}},{path:"version-updating",name:"更新版本",component:function(e){return Promise.all([n.e(0),n.e(3)]).then(function(){return e(n("rHu/"))}.bind(null,n)).catch(n.oe)}}]},{path:"demo/first",name:"菜单维护",component:U},{path:"demo/test",name:"菜单维护",component:function(e){return Promise.all([n.e(0),n.e(1)]).then(function(){return e(n("ua3t"))}.bind(null,n)).catch(n.oe)}},{path:"person",name:"个人中心",component:function(e){return Promise.all([n.e(0),n.e(2)]).then(function(){return e(n("8zhs"))}.bind(null,n)).catch(n.oe)}}]},{path:"/hello",name:"HelloVue",component:function(e){return Promise.all([n.e(0),n.e(1)]).then(function(){return e(n("vRNt"))}.bind(null,n)).catch(n.oe)}},{path:"/demo",name:"Demo",component:function(e){return Promise.all([n.e(0),n.e(1)]).then(function(){return e(n("26cW"))}.bind(null,n)).catch(n.oe)}},{path:"/three",name:"Three",component:function(e){return Promise.all([n.e(0),n.e(1)]).then(function(){return e(n("oL2E"))}.bind(null,n)).catch(n.oe)}},{path:"/export",component:function(e){return Promise.all([n.e(0),n.e(1)]).then(function(){return e(n("q3Hp"))}.bind(null,n)).catch(n.oe)}},{path:"/form",component:function(e){return Promise.all([n.e(0),n.e(1)]).then(function(){return e(n("/joN"))}.bind(null,n)).catch(n.oe)}},{path:"/creat",component:function(e){return Promise.all([n.e(0),n.e(1)]).then(function(){return e(n("3QjA"))}.bind(null,n)).catch(n.oe)}},{path:"/edit",component:function(e){return Promise.all([n.e(0),n.e(1)]).then(function(){return e(n("5dOC"))}.bind(null,n)).catch(n.oe)}},{path:"/import",component:function(e){return Promise.all([n.e(0),n.e(1)]).then(function(){return e(n("XDdL"))}.bind(null,n)).catch(n.oe)}},{path:"/translation",component:function(e){return Promise.all([n.e(0),n.e(1)]).then(function(){return e(n("Nahk"))}.bind(null,n)).catch(n.oe)}},{path:"/locked",component:function(e){return Promise.all([n.e(0),n.e(2)]).then(function(){return e(n("/w0J"))}.bind(null,n)).catch(n.oe)}},{path:"/clock",component:function(e){return Promise.all([n.e(0),n.e(1)]).then(function(){return e(n("ljIf"))}.bind(null,n)).catch(n.oe)}},{path:"*",component:function(e){return Promise.all([n.e(0),n.e(2)]).then(function(){return e(n("OpX6"))}.bind(null,n)).catch(n.oe)}}]}),A=n("dgLS"),k=n.n(A),_=n("BTaQ"),T=n.n(_),P=n("TXmL"),D=n("j/gt"),C=n.n(D),H=n("NYxO"),q=n("//Fk"),B=n.n(q),j=n("mvHQ"),$=n.n(j),X=n("woOf"),W=n.n(X),z=n("mtWM"),F=n.n(z),J={timeout:101e4,baseURL:n("i6yn").a.httpUrl},G=n("mrdj"),Q=function(){function e(e,t,n){this.model=e,this.data=t,this.query=n,this.request=F.a.create(J),this.request.interceptors.request.use(function(e){return g.default.prototype.$loading.open({spinnerType:"fading-circle"}),e},function(e){return B.a.reject(e)}),this.request.interceptors.response.use(function(e){if(setTimeout(function(){g.default.prototype.$loading.close()},500),200===e.status){if(e.data.success)return e.data.body;g.default.prototype.$Message.error(e.data.message)}else g.default.prototype.$Message.error("服务器错误,请联系管理员")},function(e){if(g.default.prototype.$loading.close(),"ECONNABORTED"!=e.code||-1==e.message.indexOf("timeout"))return g.default.prototype.$Message.error("服务器错误,请联系管理员"),B.a.reject(e);g.default.prototype.$Message.error("请求超时，请重试！")})}return e.prototype.post=function(e){var t=re.getters.storeTokenInfo.access_token?re.getters.storeTokenInfo.access_token:"";return this.request({url:G.a[this.model][e],headers:{Authorization:"Bearer "+t,"X-Requested-With":"XMLHttpRequest"},method:"post",transformRequest:[function(e){var t="";for(var n in e)t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&";return t}],data:this.data})},e.prototype.get=function(e){var t=re.getters.storeTokenInfo.access_token?re.getters.storeTokenInfo.access_token:"",n="";return this.query&&(n="/"+this.query),this.request({url:G.a[this.model][e]+n,headers:{Authorization:"Bearer "+t,"X-Requested-With":"XMLHttpRequest"},method:"get"})},e.prototype.put=function(e){var t=re.getters.storeTokenInfo.access_token?re.getters.storeTokenInfo.access_token:"",n="";return this.query&&(n="/"+this.query),this.request({url:G.a[this.model][e]+n,headers:{Authorization:"Bearer "+t,"X-Requested-With":"XMLHttpRequest"},method:"put",transformRequest:[function(e){var t="";for(var n in e)t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&";return t}],data:this.data})},e.prototype.delete=function(e){var t=re.getters.storeTokenInfo.access_token?re.getters.storeTokenInfo.access_token:"",n="";return this.query&&(n="/"+this.query),this.request({url:G.a[this.model][e]+n,headers:{Authorization:"Bearer "+t,"X-Requested-With":"XMLHttpRequest"},method:"delete"})},e}(),Y=this&&this.__assign||W.a||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},K={state:{storeUserInfo:{},storeTokenInfo:window.localStorage.getItem("user_token")?JSON.parse(window.localStorage.getItem("user_token")):{},storeMenuList:[],storeMenu:[]},mutations:((w={}).SETUSERINFO=function(e,t){e.storeUserInfo=Y({},t.user),e.storeMenu=t.roles.menu,t.token&&(e.storeUserInfo=Y({},t.user),e.storeTokenInfo=Y({},t.token),e.storeMenu=t.roles.menu,window.localStorage.setItem("user_token",$()(e.storeTokenInfo)))},w.SETMENULIST=function(e,t){e.storeMenuList=t},w),actions:{ActionLogin:function(e,t){var n=e.commit;return new B.a(function(e,o){new Q("USER",t).post("login").then(function(t){t&&n("SETUSERINFO",t),e(t)}).catch(function(e){o(e)})})},ActionCheckLogin:function(e){var t=e.commit;return new B.a(function(e,n){new Q("USER").get("check").then(function(n){n&&t("SETUSERINFO",n),e(n)}).catch(function(e){n(e)})})},ActionLoginOut:function(e){var t=e.commit;return new B.a(function(e,n){new Q("USER").post("logout").then(function(n){n&&t("SETUSERINFO",{roles:{menu:[]}}),e(n)}).catch(function(e){n(e)})})},ActionMenuList:function(e){var t=e.commit;return new B.a(function(e,n){new g.default.prototype.$http("CONFIG").get("menu").then(function(n){n&&t("SETMENULIST",n),e(n)}).catch(function(e){n(e)})})}},getters:{storeUserInfo:function(e){return e.storeUserInfo},storeMenuList:function(e){return e.storeMenuList},storeTokenInfo:function(e){return e.storeTokenInfo},storeMenu:function(e){return e.storeMenu}}},V={stateBreads:sessionStorage.getItem("bread")?JSON.parse(sessionStorage.getItem("bread")):[{id:1,resource_name:"主页",resource_url:"/index"}],stateNowIndex:sessionStorage.getItem("now_index")?sessionStorage.getItem("now_index"):1,stateOpenId:sessionStorage.getItem("open_index")?sessionStorage.getItem("open_index"):0},Z=((M={}).SETBREADS=function(e,t){var n=[];e.stateBreads.forEach(function(e){n.push(e.id)}),-1===n.indexOf(t.id)&&-1!==t.id&&e.stateBreads.push(t),e.stateNowIndex=t.id,re.getters.storeMenuList.forEach(function(t,n){t.id!==Number(e.stateNowIndex)?t.children.forEach(function(t){Number(e.stateNowIndex)!==t.id||(e.stateOpenId=n)}):e.stateOpenId=n}),sessionStorage.setItem("open_index",e.stateOpenId),sessionStorage.setItem("now_index",e.stateNowIndex),sessionStorage.setItem("bread",$()(e.stateBreads))},M.DELBREADS=function(e,t){Number(t.id)===Number(e.stateNowIndex)&&(re.getters.stateBreads.length<=2||e.stateBreads.indexOf(t)===re.getters.stateBreads.length-1?e.stateNowIndex=e.stateBreads[e.stateBreads.indexOf(t)-1].id:e.stateNowIndex=e.stateBreads[e.stateBreads.indexOf(t)+1].id),e.stateBreads.forEach(function(t){if(Number(t.id)===Number(e.stateNowIndex))return re.getters.storeMenuList.forEach(function(t,n){t.id!==Number(e.stateNowIndex)?t.children.forEach(function(t){Number(e.stateNowIndex)!==t.id||(e.stateOpenId=n)}):e.stateOpenId=n}),void L.push(t.resource_url)}),e.stateBreads.splice(e.stateBreads.indexOf(t),1),sessionStorage.setItem("open_index",e.stateOpenId),sessionStorage.setItem("now_index",e.stateNowIndex),sessionStorage.setItem("bread",$()(e.stateBreads))},M.SETOPENID=function(e,t){e.stateOpenId=t,sessionStorage.setItem("open_index",e.stateOpenId)},M),ee={state:V,mutations:Z,actions:{ActionSetBread:function(e,t){(0,e.commit)("SETBREADS",t)},ActionDelBread:function(e,t){(0,e.commit)("DELBREADS",t)},ActionSetOpenId:function(e,t){(0,e.commit)("SETOPENID",t)}},getters:{stateBreads:function(e){return V.stateBreads},stateOpenId:function(e){return["-"+V.stateOpenId]},stateNowIndex:function(e){return V.stateNowIndex}}},te={storeRoles:[],storeRolesList:[],storeRolesMenu:[],storeRolesNode:[],storeRolesCount:{},storeRolesCountNode:{}},ne=((v={}).ADDROLES=function(e,t){if(Array.isArray(t)){t.map(function(t){e.storeRoles.splice(e.storeRoles.indexOf(t),1)}),e.storeRolesCountNode={};var n=[];e.storeRoles.map(function(e){var t=e.split("@")[1];n.push(t)});for(var o=0;o<n.length;){for(var r=0,s=o;s<n.length;s++)n[o]===n[s]&&r++;e.storeRolesCountNode[n[o]]=r,o+=r}}else{-1===e.storeRoles.indexOf(t)?e.storeRoles.push(t):e.storeRoles.splice(e.storeRoles.indexOf(t),1),e.storeRolesCountNode={};var u=[];e.storeRoles.map(function(e){var t=e.split("@")[1];u.push(t)});for(o=0;o<u.length;){for(r=0,s=o;s<u.length;s++)u[o]===u[s]&&r++;e.storeRolesCountNode[u[o]]=r,o+=r}}},v.ADDROLESMENU=function(e,t){var n=Number(t.split("@")[0]);t.split("@")[1];if(e.storeRolesCount={},-1===e.storeRolesMenu.indexOf(t))e.storeRolesMenu.push(t);else{var o=[];re.getters.storeRoles.forEach(function(e){Number(n)===Number(e.split("@")[1])&&o.push(e)}),re.dispatch("ActionAddRoles",o),e.storeRolesMenu.splice(e.storeRolesMenu.indexOf(t),1)}var r=[];e.storeRolesMenu.map(function(e){var t=e.split("@")[1];r.push(Number(t))}),r.forEach(function(t){e.storeRolesCount[t]=e.storeRolesCount[t]>=1?e.storeRolesCount[t]+1:1})},v.ADDROLESNODE=function(e,t){},v.ADDROLESLIST=function(e,t){e.storeRolesList=t},v.CLEARROLES=function(e){e.storeRoles=[],e.storeRolesMenu=[],e.storeRolesCount={},e.storeRolesCountNode={}},v),oe={state:te,mutations:ne,actions:{ActionAddRoles:function(e,t){(0,e.commit)("ADDROLES",t)},ActionAddRolesList:function(e,t){var n=e.commit;return new B.a(function(e,t){new g.default.prototype.$http("USER").get("role").then(function(t){t&&n("ADDROLESLIST",t),e(t)}).catch(function(e){t(e)})})},ActionAddRolesMenu:function(e,t){(0,e.commit)("ADDROLESMENU",t)},ActionAddRolesNode:function(e,t){(0,e.commit)("ADDROLESNODE",t)},ActionClearAllRoles:function(e){(0,e.commit)("CLEARROLES")}},getters:{storeRoles:function(e){return te.storeRoles},storeRolesList:function(e){return te.storeRolesList},storeRolesMenu:function(e){return te.storeRolesMenu},storeRolesNode:function(e){return te.storeRolesNode},storeRolesCount:function(e){return te.storeRolesCount},storeRolesCountNode:function(e){return te.storeRolesCountNode}}};g.default.use(H.a);var re=new H.a.Store({modules:{user:K,breads:ee,role:oe}}),se=["/index/ifream","/index/system-configuration/user-management"],ue=n("323d");n("d8/S"),n("EWIa"),n("+skl"),n("/3so");g.default.component(m.a.name,m.a),g.default.component(p.a.name,p.a),g.default.component(f.a.name,f.a),g.default.prototype.$loading=c.a,g.default.prototype.$Message=_.Message,g.default.prototype.M=ue.b,g.default.prototype.$http=Q,g.default.config.productionTip=!1,g.default.use(a.a,s.a),g.default.use(k.a),g.default.use(T.a),g.default.use(P.a),g.default.use(C.a),L.beforeEach(function(e,t,n){-1!==se.indexOf(e.fullPath)?re.dispatch("ActionCheckLogin").then(function(){re.getters.storeUserInfo.name?n():(g.default.prototype.$Message.error(g.default.prototype.M.a),n({path:"/"}))}):n()});var ae=new P.a({locale:"en",messages:{zh:{message:{hellos:[{component:"dashboard",title:"中文",indexNum:0},{component:"dashboard",title:"中文1",indexNum:1}]}},en:{message:{hellos:[{component:"dashboard",title:"English",indexNum:0},{component:"dashboard",title:"English1",indexNum:1}]}}}});new g.default({el:"#app",router:L,i18n:ae,store:re,components:{App:b},template:"<App/>"})},"y+mr":function(e,t){}},["x35b"]);
//# sourceMappingURL=app.f09d2e0a605b1d724744.js.map